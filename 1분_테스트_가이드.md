# 🔧 1분 테스트 가이드

## ✅ 수정 완료

플러그인이 config.yml의 `interval_minutes`를 읽어오도록 수정했습니다!

---

## 📝 해야 할 일

### 1. 플러그인 다시 빌드 (필수!)

Git Bash 또는 CMD에서:
```bash
cd plugin
mvn clean package
```

또는 IDE에서 빌드

---

### 2. 플러그인 재설치

1. **서버 멈추기**
2. **기존 jar 파일 삭제**
   - `plugins/pointsplugin-1.0.0.jar` 삭제
3. **새 jar 파일 복사**
   - `plugin/target/pointsplugin-1.0.0.jar` → `plugins/`
4. **서버 시작**

---

### 3. config.yml 설정 확인

`plugins/PointsPlugin/config.yml`:
```yaml
api:
  url: "https://ramji.o-r.kr"  # 또는 Render URL
  secret: "asas1212@@"

points:
  interval_minutes: 1  # 👉 1분으로 설정!
  enable_message: true
```

---

### 4. 서버 시작 후 로그 확인

콘솔에서 확인:
```
[PointsPlugin] API URL: https://...
[PointsPlugin] 포인트 지급 간격: 1분  👈 이 메시지 확인!
[PointsPlugin] 활성화됨!
```

---

## 🧪 테스트 방법

### 1. 플레이어 접속
- 서버 접속

### 2. 1분 대기
- 정확히 1분 플레이

### 3. 확인
**서버 콘솔:**
```
[PointsPlugin] PlayerName에게 포인트가 지급되었습니다.
```

**게임 내:**
```
§a[포인트] 1분 플레이 완료! 포인트 1개 획득!
```

**홈페이지:**
- 접속하여 마인크래프트 닉네임 입력
- 보유 포인트 1 확인

---

## ⚡ 빠른 리로드는 안됩니다!

설정만 변경하는 것이 아니라 **코드가 변경**되었으므로:

❌ `/reload` - 안됨
❌ `/pointsp reload` - 안됨
✅ **서버 재시작 필요**

---

## 🔍 문제 해결

### 포인트가 여전히 안 올라가면?

**1. 서버 재시작 했는지 확인**
- 코드 변경은 재시작 필수!

**2. 로그 확인**
```
[PointsPlugin] 포인트 지급 간격: 1분  # 이게 안 보이면 재시작 안한 것
```

**3. config.yml 재확인**
```yaml
points:
  interval_minutes: 1  # 숫자 형식 주의!
```

**4. API 연결 확인**
```
[PointsPlugin] 포인트 지급 실패: ...
```
→ SHARED_SECRET 확인!

---

## 📋 체크리스트

- [ ] 플러그인 다시 빌드
- [ ] 서버 재시작
- [ ] 로그에서 "포인트 지급 간격: 1분" 확인
- [ ] 1분 플레이
- [ ] 콘솔 메시지 확인
- [ ] 홈페이지에서 포인트 확인

---

**이제 1분마다 포인트가 지급됩니다!** ✅

