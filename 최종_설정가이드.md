# ✅ Render 환경변수 설정 - 최종

## 📌 DATABASE_URL 설정

### Render Dashboard에서:

**경로**: Web Service → **Environment** 탭

**추가할 환경변수**:

```bash
# 데이터베이스 연결
DATABASE_URL=postgresql://admin:GS47JSwa85XQUCIaNUOM7GbMv5UMcXZ7@dpg-d3vah2uuk2gs73eeb1jg-a/ramjwi
```

**또는 포트 명시 (선택사항)**:
```bash
DATABASE_URL=postgresql://admin:GS47JSwa85XQUCIaNUOM7GbMv5UMcXZ7@dpg-d3vah2uuk2gs73eeb1jg-a:5432/ramjwi
```

둘 다 작동합니다! (포트 5432는 PostgreSQL 기본값이라 생략 가능)

---

## 📝 전체 환경변수 목록

설정해야 할 환경변수들:

### 필수:
```bash
DATABASE_URL=postgresql://admin:GS47JSwa85XQUCIaNUOM7GbMv5UMcXZ7@dpg-d3vah2uuk2gs73eeb1jg-a/ramjwi
```

### 기존 설정 확인:
```bash
ALLOWED_ORIGINS=*
RUN_DISCORD_BOT=true
GUILD_ID=
```

### 추가 필요:
```bash
SHARED_SECRET= (랜덤 32자 문자열) - 플러그인 인증용
DISCORD_BOT_TOKEN= (Discord 봇 토큰) - 기존 값 있으면 유지
```

---

## 🚀 배포 단계

1. **Environment 탭에서 DATABASE_URL 설정**
2. **변경사항 저장**
3. **Manual Deploy** 또는 **Clear build cache & deploy**
4. **Logs 탭**에서 확인:
   ```
   ✅ Connected to database
   ```

---

## ⚠️ 주의사항

**Internal Database URL vs External Database URL:**
- ✅ **Internal**: Render 서비스 간 통신용 (현재 사용 중)
- ❌ **External**: 외부에서 접속용 (필요 없음)

**포트 번호:**
- Internal URL에는 포트가 없어도 됩니다
- SQLAlchemy가 기본 포트 5432 사용
- 명시하고 싶다면 `:5432` 추가

---

## 🎯 다음 단계

설정 완료 후:
1. ✅ 배포 성공 확인
2. ✅ 빙고 아이템 초기화 (`python manage_bingo.py init`)
3. ✅ 홈페이지 테스트
4. ✅ 플러그인 설치

