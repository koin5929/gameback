# 🔧 405 에러 해결 방법

## 🐛 문제
```
[PointsPlugin] 포인트 지급 실패: 405 - {"detail":"Method Not Allowed"}
```

---

## 🔍 원인 분석

### 가능한 원인들:

1. **Render에 배포가 안 됨**
2. **API URL이 잘못됨**
3. **엔드포인트가 존재하지 않음**
4. **헤더 문제**

---

## ✅ 해결 방법

### 1. Render 배포 확인

Render Dashboard → **Logs** 확인:
```
✅ Application startup complete
```

**이 메시지가 보여야 정상!**

---

### 2. API 엔드포인트 테스트

브라우저에서:
```
https://prelaunch-all-in-one.onrender.com/api/health
```

예상 응답:
```json
{"ok": true}
```

---

### 3. 플러그인 API 직접 테스트

PlayUUID로 직접 테스트:

```bash
curl -X POST https://prelaunch-all-in-one.onrender.com/api/plugin/add-points/플레이어UUID \
  -H "Content-Type: application/json" \
  -H "X-Prelaunch-Secret: asas1212@@" \
  -d '{"minutes": 1}'
```

**예상 응답:**
- ✅ 200 OK: 정상
- ❌ 405: 엔드포인트 문제
- ❌ 401: Secret 불일치
- ❌ 404: URL 문제

---

### 4. 가장 가능성 높은 원인

**Render에 GitHub 코드가 배포되지 않았을 가능성!**

확인:
1. Render Dashboard에서 최신 배포 확인
2. Logs에서 "Application startup complete" 메시지 확인
3. GitHub에 push 했는지 확인
4. Render가 GitHub 레포지토리를 감지하고 있는지 확인

---

## 🚀 즉시 해결 방법

### Option 1: Render 다시 배포

Render Dashboard:
1. **Settings** → **Manual Deploy**
2. 또는 **Clear build cache & deploy**

### Option 2: GitHub Push 확인

GitHub에 파일들이 올라가 있는지 확인:
- `backend/backend/main.py` (API 코드)
- 최신 커밋 확인

---

## 📋 체크리스트

- [ ] Render 배포 완료?
- [ ] GitHub에 코드 push 완료?
- [ ] Render가 GitHub를 감지?
- [ ] Logs에서 "Application startup complete"?
- [ ] `/api/health` 접속 가능?
- [ ] SHARED_SECRET 일치?

---

## 🔍 빠른 테스트

브라우저에서 접속:
```
https://prelaunch-all-in-one.onrender.com/api/bingo/items
```

응답이 오면 → API는 정상!
응답이 안 오면 → 배포 문제!

---

**Render 배포가 완료되었나요?** 🔍

