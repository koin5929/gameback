# 🎮 플러그인 커스텀 명령어 가이드

## ✅ 추가된 명령어

### `/pointsp reload`

플러그인 설정만 리로드하는 커스텀 명령어입니다.

---

## 📝 사용 방법

### 1. config.yml 수정
```yaml
api:
  url: "https://ramji.o-r.kr"  # URL 변경
  secret: "asas1212@@"
```

### 2. 명령어 실행
```
/pointsp reload
```

### 3. 결과 확인
```
§a[포인트] 설정이 리로드되었습니다.
§7API URL: https://ramji.o-r.kr
```

서버 콘솔에도 로그가 출력됩니다:
```
[PointsPlugin] 설정 리로드 - API URL: https://ramji.o-r.kr
```

---

## 🔐 권한 설정

### 플러그인 내장 권한
- `pointsp.use` - 명령어 기본 사용 권한
- `pointsp.reload` - reload 명령어 권한

### 권한 부여 (LuckPerms 예시)
```bash
# OP에게 자동 부여됨
/lp user <username> permission set pointsp.reload true
```

### OP에게는 자동으로 권한이 부여됩니다!

---

## 🆚 /reload vs /pointsp reload

### /reload (서버 전체)
```
✅ 모든 플러그인 리로드
❌ 모든 플레이어 퇴장
❌ 서버 잠깐 멈춤
⏱️ 1-3초 소요
```

### /pointsp reload (플러그인만)
```
✅ 이 플러그인만 리로드
✅ 플레이어 영향 없음
✅ 서버 멈춤 없음
⏱️ 0.1초 소요
⚠️ config.yml만 변경 가능
```

---

## 📋 명령어 목록

### 기본
```
/pointsp
```
→ 도움말 표시

### 리로드
```
/pointsp reload
```
→ 설정 리로드 (권한 필요)

---

## 🎯 사용 예시

### 시나리오 1: URL 변경
```yaml
# config.yml 수정
api:
  url: "https://ramji.o-r.kr"
```
```
/pointsp reload
```

### 시나리오 2: Secret 변경
```yaml
# config.yml 수정
api:
  secret: "new_secret_123"
```
```
/pointsp reload
```

### 시나리오 3: 메시지 ON/OFF
```yaml
# config.yml 수정
points:
  enable_message: false
```
```
/pointsp reload
```

---

## 🔍 확인 방법

리로드 후:
1. **콘솔 로그 확인**
   ```
   [PointsPlugin] 설정 리로드 - API URL: https://...
   ```

2. **플레이어 테스트**
   - 플레이어 30분 플레이
   - 콘솔에 포인트 지급 메시지 확인

3. **게임 내 메시지 확인**
   - enable_message: true → 플레이어에게 메시지 표시
   - enable_message: false → 메시지 없음

---

## ⚠️ 주의사항

### 리로드 안되는 것
- ❌ Java 코드 변경 (서버 재시작 필요)
- ❌ 새 버전 플러그인 설치 (서버 재시작 필요)

### 리로드 되는 것
- ✅ config.yml의 모든 설정
- ✅ API URL
- ✅ Secret
- ✅ 메시지 설정
- ✅ 포인트 지급 간격

---

## 💡 팁

### 개발 중 빠른 테스트
```bash
# 1. config.yml 수정
vim config.yml

# 2. 리로드
/pointsp reload

# 3. 즉시 적용!
```

### 프로덕션에서 권장
```bash
# config.yml만 수정
/pointsp reload  # 플레이어 영향 없이 적용!
```

---

**이제 설정만 바꾸고 싶을 때 `/pointsp reload`로 간단하게 리로드할 수 있습니다!** 🎮

